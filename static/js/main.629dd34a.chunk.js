(this.webpackJsonpinterview_react=this.webpackJsonpinterview_react||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"dataRequested",(function(){return x})),n.d(r,"dataLoaded",(function(){return g})),n.d(r,"dataError",(function(){return v})),n.d(r,"curChanged",(function(){return y})),n.d(r,"rubInput",(function(){return C})),n.d(r,"curInput",(function(){return D}));var a,u,c,i,o,s=n(0),l=n.n(s),p=n(9),d=n.n(p),b=n(6),j=n(7),h=n(11),f=n(10),O=n(4),m=n(3),x=function(){return{type:"DATA_REQUESTED"}},g=function(e){return{type:"DATA_LOADED",data:e}},v=function(e){return{type:"DATA_ERROR",text:e}},y=function(e){return{type:"CUR_CHANGED",value:e}},C=function(e){return{type:"RUB_INPUT",value:e}},D=function(e){return{type:"CUR_INPUT",value:e}},T=n(5),w=n(1),A=T.a.input(a||(a=Object(O.a)(["\n    width: 250px;\n    margin: 5px;\n    border: 1px solid transparent;\n    border-radius: 20px;\n    outline: none;\n    padding: 10px;\n    border: 1px solid transparent;\n    height: 30px;\n    font-family: 'Courier Prime', monospace;\n    font-size: 1.5rem;\n"]))),I={rubInput:C},R=Object(m.b)((function(e){return{inputValue:e.rubInputNum}}),I)((function(e){var t=e.inputValue,n=e.rubInput,r=l.a.useRef();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:"rub",children:"Ruble"}),Object(w.jsx)(A,{id:"rub",type:"number",placeholder:"0",value:t,ref:r,onChange:function(e){n(e.target.value)},onFocus:function(){return r.current.select()}})]})})),E={curInput:D},N=Object(m.b)((function(e){return{inputValue:e.curInputNum}}),E)((function(e){var t=e.inputValue,n=e.curInput;var r=l.a.useRef();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(A,{id:"cur",type:"number",placeholder:"0",value:t||"",onChange:function(e){n(e.target.value)},ref:r,onFocus:function(){return r.current.select()}}),Object(w.jsx)("label",{htmlFor:"cur",children:"Currency"})]})})),U=n(2),_=l.a.createContext(),F=function(){return function(e){return function(t){return Object(w.jsx)(_.Consumer,{children:function(n){return Object(w.jsx)(e,Object(U.a)(Object(U.a)({},t),{},{Service:n}))}})}}},k=T.a.select(u||(u=Object(O.a)(["\n    width: 250px;\n    margin: 5px;\n    border: 1px solid transparent;\n    border-radius: 20px;\n    height: 30px;\n    outline: none;\n    padding-left: 5px;\n    font-size: 1rem;\n    font-family: 'Courier Prime', monospace;\n"]))),P=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){e.props.curChanged(t.target.value)},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.dataRequested();var t=this.props,n=t.Service,r=t.url;n.getData(r).then((function(t){e.props.dataLoaded(t),e.props.curChanged(t.AUD)})).catch((function(t){return e.props.dataError(t)}))}},{key:"render",value:function(){var e=this.props,t=e.curObj,n=e.loading,r=e.selected,a=Object.entries(t),u=n?Object(w.jsx)(B,{}):a.map((function(e){return Object(w.jsxs)("option",{value:e[1],children:[" ",e[0]," "]},e[0])}));return Object(w.jsx)(k,{value:r,onChange:this.handleChange,children:u})}}]),n}(s.Component),B=function(){return Object(w.jsx)("option",{children:"loading..."})},S=F()(Object(m.b)((function(e){return{url:e.apiBase,curObj:e.curObj,selected:e.selectedOption,loading:e.loading,error:e.error}}),r)(P)),L=T.a.main(c||(c=Object(O.a)(["\n    position:absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\tbackground-color: gray;\n\talign-items:center;\n\talign-content: center;\n\tmin-width: 100%;\n\tmin-height: 100%;\n"]))),M=T.a.div(i||(i=Object(O.a)(["\n    position: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-content: center;\n\talign-items: center;\n\tfont-family: 'Courier Prime', monospace;\n"]))),V=T.a.h1(o||(o=Object(O.a)(["\n    margin: 0 0 30px 0;\n    font-weight: 700;\n"]))),H=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getData",value:function(){fetch("https://egks.ru/card?number=000210349",{method:"POST",headers:{Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","Content-Type":"text/html; charset=UTF-8"}}).then((function(e){return e.text()})).then((function(e){console.log(e)}))}},{key:"render",value:function(){return this.getData(),Object(w.jsx)(L,{children:Object(w.jsxs)(M,{children:[Object(w.jsx)(V,{children:"Digital Currency Converter"}),Object(w.jsx)(R,{}),Object(w.jsx)(S,{}),Object(w.jsx)(N,{})]})})}}]),n}(s.Component),q=n(14),z=n.n(q),G=n(20),J=function(){function e(){Object(b.a)(this,e),this.parser=new DOMParser}return Object(j.a)(e,[{key:"getData",value:function(){var e=Object(G.a)(z.a.mark((function e(t){var n,r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=this.parser.parseFromString(r,"text/xml"),e.abrupt("return",this.formData(a));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formData",value:function(e){for(var t={},n=e.getElementsByTagName("CharCode"),r=e.getElementsByTagName("Value"),a=0;a<n.length&&a<r.length;a++)t[n[a].innerHTML]=r[a].innerHTML;return t}}]),e}(),Q=n(21),K={apiBase:"https://www.cbr-xml-daily.ru/daily_utf8.xml",curObj:{},selectedOption:"",rubInputNum:"",curInputNum:"",loading:!0,error:!1,errorText:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_REQUESTED":return Object(U.a)(Object(U.a)({},e),{},{curObj:e.curObj,loading:!0});case"DATA_LOADED":return Object(U.a)(Object(U.a)({},e),{},{curObj:t.data,loading:!1});case"DATA_ERROR":return Object(U.a)(Object(U.a)({},e),{},{loading:!1,error:!0,errorText:t.text});case"CUR_CHANGED":return Object(U.a)(Object(U.a)({},e),{},{selectedOption:t.value});case"RUB_INPUT":return Object(U.a)(Object(U.a)({},e),{},{rubInputNum:t.value,curInputNum:(+t.value/parseFloat(e.selectedOption.replace(",","."))).toFixed(2)});case"CUR_INPUT":return Object(U.a)(Object(U.a)({},e),{},{rubInputNum:(+t.value*parseFloat(e.selectedOption.replace(",","."))).toFixed(2),curInputNum:+t.value});default:return e}},X=Object(Q.a)(W),Y=(n(36),new J);d.a.render(Object(w.jsx)(l.a.StrictMode,{children:Object(w.jsx)(m.a,{store:X,children:Object(w.jsx)(_.Provider,{value:Y,children:Object(w.jsx)(H,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.629dd34a.chunk.js.map